Description: Fix installation directories
 - Do not install rpm to /bin/.
 - Setup default directories so that source RPMs rebuilt on Debian get
   the right directories and also that builds occur in /usr/src/rpm
 - Fix statedir and init.d patch
Author: Michal Čihař <nijel@debian.org>
--- a/Makefile.am
+++ b/Makefile.am
@@ -89,7 +89,7 @@
 pkginclude_HEADERS += build/rpmspec.h
 
 
-rpmbindir = `echo $(bindir) | $(SED) -e s,usr/bin,bin,`
+rpmbindir = $(bindir)
 rpmbin_PROGRAMS = rpm
 
 bin_PROGRAMS =		rpm2cpio rpmbuild rpmdb rpmkeys rpmsign rpmspec
@@ -224,9 +224,9 @@
 
 install-exec-hook:
 	@rm -f $(DESTDIR)$(bindir)/rpmquery
-	@LN_S@ ../../bin/rpm $(DESTDIR)$(bindir)/rpmquery
+	@LN_S@ rpm $(DESTDIR)$(bindir)/rpmquery
 	@rm -f $(DESTDIR)$(bindir)/rpmverify
-	@LN_S@ ../../bin/rpm $(DESTDIR)$(bindir)/rpmverify
+	@LN_S@ rpm $(DESTDIR)$(bindir)/rpmverify
 
 install-data-local:
 	DESTDIR="$(DESTDIR)" pkglibdir="$(rpmconfigdir)" \
--- a/doc/manual/builddependencies
+++ b/doc/manual/builddependencies
@@ -29,7 +29,7 @@
 \verbatim
 	rpm -U /mnt/redhat/comps/powertools/6.2/i386/InDependence-1.0-3.i386.rpm
 	rpm -i /mnt/redhat/comps/dist/6.2/SRPMS/gnorpm-0.9-11.src.rpm
-	cd /usr/src/redhat/SPECS
+	cd /usr/src/rpm/SPECS
 	dep -detail rpmbuild -ba gnorpm.spec >& xxx
 	...
 	(the build will take longer since both dep and strace are pigs)
--- a/macros.in
+++ b/macros.in
@@ -792,7 +792,7 @@
 %_datadir		%{_prefix}/share
 %_sysconfdir		/etc
 %_sharedstatedir	%{_prefix}/com
-%_localstatedir		%{_prefix}/var
+%_localstatedir		@localstatedir@
 %_lib			lib
 %_libdir		%{_exec_prefix}/%{_lib}
 %_includedir		%{_prefix}/include
--- a/platform.in
+++ b/platform.in
@@ -41,7 +41,7 @@
 %_oldincludedir		@oldincludedir@
 %_infodir		@infodir@
 %_mandir		@mandir@
-%_initddir		%{_sysconfdir}/rc.d/init.d
+%_initddir		%{_sysconfdir}/init.d
 # Deprecated misspelling, present for backwards compatibility.
 %_initrddir		%{_initddir}
 
