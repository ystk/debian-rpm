<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>rpm: rpmfileutil.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">rpm
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">rpmfileutil.h</div>  </div>
</div>
<div class="contents">
<a href="rpmfileutil_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _RPMFILEUTIL_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _RPMFILEUTIL_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;rpm/rpmutil.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;rpm/rpmio.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;rpm/rpmpgp.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;rpm/argv.h&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00016"></a>00016 <span class="preprocessor">#endif</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00020"></a><a class="code" href="group__rpmfileutil.html#ga8cd18c5a4325494025f60227fcd9b561">00020</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__rpmfileutil.html#ga8cd18c5a4325494025f60227fcd9b561">rpmCompressedMagic_e</a> {
<a name="l00021"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a8a4363137c96594e751ff917000766a7">00021</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a8a4363137c96594e751ff917000766a7">COMPRESSED_NOT</a>              = 0,    
<a name="l00022"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a0036b875046b4bad28d4285c98ca33c4">00022</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a0036b875046b4bad28d4285c98ca33c4">COMPRESSED_OTHER</a>            = 1,    
<a name="l00023"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561ae6f801c28caec783071ce7af92d56eec">00023</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561ae6f801c28caec783071ce7af92d56eec">COMPRESSED_BZIP2</a>            = 2,    
<a name="l00024"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a0d06d7254f4eed0c6739ca57ff578c7c">00024</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a0d06d7254f4eed0c6739ca57ff578c7c">COMPRESSED_ZIP</a>              = 3,    
<a name="l00025"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561ab849fbc1e73f3871280ece58c89d38ee">00025</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561ab849fbc1e73f3871280ece58c89d38ee">COMPRESSED_LZMA</a>             = 4,    
<a name="l00026"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a7847689aa59cbc03ae0201f4b180fd20">00026</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a7847689aa59cbc03ae0201f4b180fd20">COMPRESSED_XZ</a>               = 5,    
<a name="l00027"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a8f7cd71d3817907dee91866c59a8d4f7">00027</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a8f7cd71d3817907dee91866c59a8d4f7">COMPRESSED_LZIP</a>             = 6,    
<a name="l00028"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561aab972047f0e3ff8ec9dc7cf891ff6df4">00028</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561aab972047f0e3ff8ec9dc7cf891ff6df4">COMPRESSED_LRZIP</a>            = 7,    
<a name="l00029"></a><a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a9b89dee9527f16369c8659e3c3a33bfe">00029</a>     <a class="code" href="group__rpmfileutil.html#gga8cd18c5a4325494025f60227fcd9b561a9b89dee9527f16369c8659e3c3a33bfe">COMPRESSED_7ZIP</a>             = 8     
<a name="l00030"></a>00030 } <a class="code" href="group__rpmfileutil.html#gaeb95839b1705caf41cb0593d533b89c3">rpmCompressedMagic</a>;
<a name="l00031"></a>00031 
<a name="l00041"></a>00041 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#gaa237514825e3eeba35400e9c49f223d7" title="Calculate a file digest and size.">rpmDoDigest</a>(<span class="keywordtype">int</span> algo, <span class="keyword">const</span> <span class="keywordtype">char</span> * fn,<span class="keywordtype">int</span> asAscii,
<a name="l00042"></a>00042                   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * digest, <a class="code" href="group__rpmtypes.html#gab9fe53f396a324ab4d4e07cad793f730">rpm_loff_t</a> * fsizep);
<a name="l00043"></a>00043 
<a name="l00049"></a>00049 <a class="code" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5" title="RPM IO file descriptor type.">FD_t</a> <a class="code" href="group__rpmfileutil.html#gac4a257784b294f11f6dbdbd6368d687c" title="Thin wrapper for mkstemp(3).">rpmMkTemp</a>(<span class="keywordtype">char</span> *templ);
<a name="l00050"></a>00050 
<a name="l00061"></a>00061 <a class="code" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5" title="RPM IO file descriptor type.">FD_t</a> <a class="code" href="group__rpmfileutil.html#ga2d985c9d6147d42f0f97ef439f54c691" title="Return file handle for a temporaray file.">rpmMkTempFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * prefix, <span class="keywordtype">char</span> **fn);
<a name="l00062"></a>00062 
<a name="l00071"></a>00071 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#ga38d473d1bb6c55091c55620dc035ab3b" title="Insure that directories in path exist, creating as needed.">rpmioMkpath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * path, mode_t <a class="code" href="rpmdb_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, uid_t uid, gid_t gid);
<a name="l00072"></a>00072 
<a name="l00081"></a>00081 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#gae3a5064720ea1f5929f4f1b059d8a80c" title="Create several directories (including parents if needed) in one go.">rpmMkdirs</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *root, <span class="keyword">const</span> <span class="keywordtype">char</span> *pathstr);
<a name="l00082"></a>00082 
<a name="l00088"></a>00088 <span class="keywordtype">char</span> * <a class="code" href="group__rpmfileutil.html#ga23bc9da080ad3340bbba93a0bf45dd07" title="Canonicalize file path.">rpmCleanPath</a>     (<span class="keywordtype">char</span> * path);
<a name="l00089"></a>00089 
<a name="l00100"></a>00100 <span class="keywordtype">char</span> * <a class="code" href="group__rpmfileutil.html#gaa32585dcb214b5099ad0ea3d4044221b" title="Merge 3 args into path, any or all of which may be a url.">rpmGenPath</a>       (<span class="keyword">const</span> <span class="keywordtype">char</span> * urlroot,
<a name="l00101"></a>00101                         <span class="keyword">const</span> <span class="keywordtype">char</span> * urlmdir,
<a name="l00102"></a>00102                         <span class="keyword">const</span> <span class="keywordtype">char</span> * urlfile);
<a name="l00103"></a>00103 
<a name="l00109"></a>00109 <span class="keywordtype">char</span> * <a class="code" href="group__rpmfileutil.html#ga082c9f1c3b1e4fef327ac91a87ca51e9" title="Return (malloc&#39;ed) expanded, canonicalized, file path.">rpmGetPath</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> * path, ...) <a class="code" href="rpmutil_8h.html#ab20b5f4a77194dc7171b2311853db5cd">RPM_GNUC_NULL_TERMINATED</a>;
<a name="l00110"></a>00110 
<a name="l00118"></a>00118 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#ga7bec06f6c7624e6f1968137466e56914" title="Return URL path(s) from a (URL prefixed) pattern glob.">rpmGlob</a>(const <span class="keywordtype">char</span> * patterns, <span class="keywordtype">int</span> * argcPtr, <a class="code" href="argv_8h.html#a4628d0ccf538438d6ef2795aeebd7e31">ARGV_t</a> * argvPtr);
<a name="l00119"></a>00119 
<a name="l00125"></a>00125 <span class="keywordtype">char</span> * <a class="code" href="group__rpmfileutil.html#ga03dd0d02944697af9acf220a897941cd" title="Escape isspace(3) characters in string.">rpmEscapeSpaces</a>(const <span class="keywordtype">char</span> * s);
<a name="l00126"></a>00126 
<a name="l00133"></a>00133 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#ga33cf90d9756fd962225659063db265ed" title="Return type of compression used in file.">rpmFileIsCompressed</a> (const <span class="keywordtype">char</span> * file, <a class="code" href="group__rpmfileutil.html#gaeb95839b1705caf41cb0593d533b89c3">rpmCompressedMagic</a> * compressed);
<a name="l00134"></a>00134 
<a name="l00141"></a>00141 <span class="keywordtype">int</span> <a class="code" href="group__rpmfileutil.html#gae63f2f807558d45d7c07d3e0bfe2bff1" title="Check if path (string) ends with given suffix.">rpmFileHasSuffix</a>(const <span class="keywordtype">char</span> *path, const <span class="keywordtype">char</span> *suffix);
<a name="l00142"></a>00142 
<a name="l00147"></a>00147 <span class="keywordtype">char</span> * <a class="code" href="group__rpmfileutil.html#gac50a8e532768e8bbad7c5f3d25fbecbd" title="Like getcwd() but the result is malloced.">rpmGetCwd</a>(<span class="keywordtype">void</span>);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span>}
<a name="l00151"></a>00151 <span class="preprocessor">#endif</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* _RPMFILEUTIL_H */</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 22 2012 14:04:14 for rpm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5
</small></address>

</body>
</html>
